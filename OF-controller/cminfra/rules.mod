.PHONY: exe default all
exe: all
default: all

include $(CM_DIR)/defs.system
include $(CM_DIR)/includes.mk
include $(SRC_DIR)/rules.mk

CFLAGS += -DCM_SUPPORT -DCM_DM_SUPPORT  -DCM_JE_SUPPORT -DCOMPILE_FOR_CM_ONLY
#CFLAGS += -DOF_CM_CP_CHANNEL_SUPPORT -DOF_UCMGLU_SUPPORT
CFLAGS += -DOF_UCMGLU_SUPPORT
CFLAGS += -DCM_TRANSPORT_CHANNEL_SUPPORT
#CFLAGS += -DCM_ROLES_PERM_SUPPORT
ifeq ("$(BUILD_MSGSYS)", "no")
CFLAGS += -DVORTIQA_SYSLOG_SUPPORT
endif
#-DCM_TRCHNL_TEST_SUPPORT
#CFLAGS += -DCM_AUDIT_SUPPORT

CFLAGS += -DCM_VERSION_SUPPORT 
#CFLAGS += -DCM_EVENT_NOTIFMGR_SUPPORT 
CFLAGS += -DCM_AUTH_SUPPORT 
#CFLAGS += -DOF_CM_AUTH_PLUGIN_SUPPORT 
#-DCM_PAM_SUPPORT 
CFLAGS += -DCM_CLIENG_SUPPORT
CFLAGS += -DCM_LDSV_SUPPORT
CFLAGS += -DOF_XML_SUPPORT
CFLAGS += -DOF_CM_SUPPORT 
CFLAGS += -DOF_HTTPD_SUPPORT -DOF_HTTPS_SUPPORT -DHTTPS_ENABLE
CFLAGS += -DOF_CM_HTTP_PLUGIN_SUPPORT

#CFLAGS += -DOPENSSL_9_7
CFLAGS += -DOPENSSL1.0.1

CFLAGS += -DCM_LOG_CLTR_SUPPORT -DCM_MESGCLNT_SUPPORT -DCM_SYSLOG_SCHEDULE

CFLAGS += -DCM_SECAPPL_DLL_SUPPORT

#
# Put only one of these OPTIM_FLAGS
#
#OPTIM_FLAGS = -O2
#OPTIM_FLAGS += -g 

OPTIM_FLAGS += -g -O

CFLAGS += $(OPTIM_FLAGS)

CFLAGS += $(INCLUDES) -fPIC
#CFLAGS += -Wall -Werror
#CFLAGS += -Werror
LDOPTS  = -r -O2

